{{ define "main" }}
<!-- Desktop Icons -->
<div class="desktop-icons">
    <!-- About Icon -->
    {{ partial "desktop-icon.html" (dict "window" "about" "title" "About Me" "label" "About Me" "image" "/pfp.png"
    "placeholder"
    "data:image/jpeg;base64,/9j/4AAQSkZJRgABAQABLAEsAAD/4QD0RXhpZgAATU0AKgAAAAgABgEaAAUAAAABAAAAVgEbAAUAAAABAAAAXgEoAAMAAAABAAIAAAEyAAIAAAAUAAAAZgE7AAIAAAAHAAAAeodpAAQAAAABAAAAggAAAAAAAAEsAAAAAQAAASwAAAABMjAyNToxMjowNCAxMjo0OToyMwBBbmt1c2gAAAAFkAMAAgAAABQAAADEkAQAAgAAABQAAADYoAEAAwAAAAEAAQAAoAIABAAAAAEAAAAQoAMABAAAAAEAAAAQAAAAADIwMjU6MTI6MDQgMTI6NDQ6NDYAMjAyNToxMjowNCAxMjo0NDo0NgD/7QBSUGhvdG9zaG9wIDMuMAA4QklNBAQAAAAAABocAVoAAxslRxwCAAACAAIcAlAABkFua3VzaDhCSU0EJQAAAAAAEPKMig2ZcH6Bwu5pNpbTSYP/wAARCAAQABADASIAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9sAQwACAgICAgIDAgIDBQMDAwUGBQUFBQYIBgYGBgYICggICAgICAoKCgoKCgoKDAwMDAwMDg4ODg4PDw8PDw8PDw8P/9sAQwECAgIEBAQHBAQHEAsJCxAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQ/90ABAAB/9oADAMBAAIRAxEAPwD70/b5+Lnxr+H+jeEvCfwRkew1TxNPOZr2O2a5lSO3kt0WKJFDNudpwzEKcIje9Sf8E/8A4pfG3x74T8V+G/jfNLqGqeFL9LeK9uYVhuZVcyK6SKgAOxo/lLfOVYFhjaT9YfFjxPYeHfDGoSSFRfQ2N1d2275Tut4yxCvg7CRkZIIxkEEZBzvg7caSNBWeyht7W58QO+r3EMMhlZZroKxLSHHmHbtG7A6YxgZqby5rdDq9mvY89utj/9k=")
    }}

    <!-- Resume Icon -->
    {{ partial "desktop-icon.html" (dict "window" "resume" "title" "üìÑ Resume" "label" "Resume" "svg"
    (partial "icons/resume-desktop.html" .)) }}

    <!-- Projects Icon -->
    {{ partial "desktop-icon.html" (dict "window" "projects" "title" "Projects" "label" "Projects" "svg" (partial
    "icons/folder-desktop.html" .)) }}

    <!-- Blogs Icon -->
    {{ partial "desktop-icon.html" (dict "window" "blogs" "title" "Blogs" "label" "Blogs" "svg" (partial
    "icons/document-desktop.html" .)) }}

    <!-- Timeline Icon -->
    {{ partial "desktop-icon.html" (dict "window" "timeline" "title" "Timeline" "label" "Timeline" "svg" (partial
    "icons/clock-desktop.html" .)) }}

    <!-- Wins Icon -->
    {{ partial "desktop-icon.html" (dict "window" "wins" "title" "Wins" "label" "Wins" "svg" (partial
    "icons/trophy-desktop.html" .)) }}

    <!-- Contact Icon -->
    {{ partial "desktop-icon.html" (dict "window" "contact" "title" "Contact" "label" "Contact" "svg" (partial
    "icons/mail-desktop.html" .)) }}

    <!-- Schedule Call Icon -->
    {{ partial "desktop-icon.html" (dict "window" "book-a-call" "title" "üåê Schedule Call" "label" "Schedule Call" "svg"
    (partial "icons/phone-desktop.html" .)) }}

    <!-- DOOM Icon -->
    {{ partial "desktop-icon.html" (dict "window" "doom" "title" "üéÆ DOOM" "label" "DOOM" "svg"
    (partial "icons/doom-desktop.html" .)) }}

</div>

<!-- ============================================== -->
<!-- WINDOW CONTENT TEMPLATES -->
<!-- ============================================== -->
<div id="window-contents" style="display: none;">

    <!-- ABOUT CONTENT - macOS Finder Style -->
    {{ partial "about-finder.html" (dict
    "id" "about"
    "title" "About Ankush"
    ) }}

    <!-- BLOG LIST - Mavericks Mail Style -->
    {{ $blog := .Site.GetPage "/blogs" }}
    {{ with $blog }}
    {{ partial "blogs-list.html" (dict
    "id" "blogs"
    "title" "Blogs"
    "pages" .Pages.ByDate.Reverse
    "prefix" "post"
    ) }}
    {{ end }}

    <!-- PROJECTS GRID - macOS Finder Card Layout -->
    {{ $projects := .Site.GetPage "/projects" }}
    {{ with $projects }}
    {{ partial "projects-grid.html" (dict
    "id" "projects"
    "title" "Projects"
    "pages" .Pages.ByDate.Reverse
    "prefix" "project"
    ) }}
    {{ end }}

    <!-- TIMELINE CALENDAR VIEW -->
    {{ $timeline := .Site.GetPage "/timeline" }}
    {{ with $timeline }}
    {{ partial "calendar-view.html" (dict
    "id" "timeline"
    "title" "Timeline"
    "pages" .Pages.ByDate.Reverse
    "prefix" "timeline"
    ) }}
    {{ end }}

    <!-- WINS CONTENT - Awards Style -->
    {{ partial "wins-list.html" (dict
    "id" "wins"
    "title" "Wins"
    ) }}

    <!-- CONTACT CONTENT - Address Book Style -->
    {{ partial "contact-book.html" (dict
    "id" "contact"
    "title" "Contacts"
    ) }}

    <!-- SCHEDULE CALL CONTENT -->
    <div id="content-book-a-call">
        <div class="external-window" style="height: 100%; display: flex; flex-direction: column;">
            <div class="window-toolbar">
                <div class="url-bar">
                    <span class="url-icon">üîí</span>
                    <span class="url-text">https://cal.com/ankushkun/call</span>
                </div>
                <a href="https://cal.com/ankushkun/call" target="_blank" class="open-external"
                    title="Open in new tab">{{ partial "icons/open-external.html" . }}</a>
            </div>
            <div class="window-iframe-container" style="flex: 1; position: relative;">
                <div class="window-loader">
                    <div class="spinner"></div>
                </div>
                <iframe data-src="https://cal.com/ankushkun/call" frameborder="0"
                    onload="this.previousElementSibling.style.display='none'"
                    style="width: 100%; height: 100%;"></iframe>
            </div>
        </div>
    </div>

    <!-- RESUME CONTENT -->
    <div id="content-resume">
        <div class="external-window" style="height: 100%; display: flex; flex-direction: column;">
            <div class="window-toolbar">
                <div class="url-bar">
                    <span class="url-icon">üìÑ</span>
                    <span class="url-text">resume.pdf</span>
                </div>
                <a href="/resume.pdf" target="_blank" class="open-external" title="Download PDF">‚¨á</a>
            </div>
            <div class="window-iframe-container" style="flex: 1; position: relative;">
                <div class="window-loader">
                    <div class="spinner"></div>
                </div>
                <iframe data-src="/resume.pdf" frameborder="0" onload="this.previousElementSibling.style.display='none'"
                    style="width: 100%; height: 100%;"></iframe>
            </div>
        </div>
    </div>

    <!-- DOOM CONTENT -->
    <div id="content-doom">
        <div class="external-window" style="height: 100%; display: flex; flex-direction: column;">
            <div class="window-toolbar">
                <div class="url-bar">
                    <span class="url-icon">üéÆ</span>
                    <span class="url-text">Yet Another Doom Clone</span>
                </div>
                <a href="https://nicholas.carlini.com/writing/2019/javascript-doom-clone-13k.html" target="_blank"
                    class="open-external" title="Open source article">{{ partial "icons/open-external.html" . }}</a>
            </div>
            <div class="window-iframe-container" style="flex: 1; position: relative;">
                <div class="window-loader">
                    <div class="spinner"></div>
                </div>
                <iframe data-src="/doom/" frameborder="0" onload="this.previousElementSibling.style.display='none'"
                    style="width: 100%; height: 100%; background: #000;"></iframe>
            </div>
        </div>
    </div>
</div>

<!-- ============================================== -->
<!-- BLOG POST TEMPLATES -->
<!-- ============================================== -->
{{/* Content for posts, projects, and timeline are now lazy-loaded via fetch */}}
{{ end }}