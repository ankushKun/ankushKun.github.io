<!DOCTYPE html>
<html lang="{{ .Site.LanguageCode }}">

<head>
    <meta charset="UTF-8">
    <meta name="viewport"
        content="width=device-width, initial-scale=1.0, viewport-fit=cover">

    {{ if .IsHome }}
    <!-- macOS Boot Screen Loader - Inline to prevent FOUC -->
    <style id="loader-styles">
        /* macOS Boot Screen Loader */
        #macos-boot-loader {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            z-index: 999999;
            background-color: #b3b3b3;
            transition: opacity 0.6s ease-out;
        }

        #macos-boot-loader.fade-out {
            opacity: 0;
            pointer-events: none;
        }

        /* Apple Logo - Centered */
        .boot-apple-logo {
            width: 100px;
            height: 120px;
            position: absolute;
            top: 47%;
            left: 50%;
            transform: translate(-50%, -50%);
        }

        .boot-apple-logo svg {
            width: 100%;
            height: 100%;
            fill: #555555;
        }

        /* Spinning Wheel - Offset below center */
        .boot-spinner {
            width: 28px;
            height: 28px;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            margin-top: 200px;
        }

        .boot-spinner-blade {
            position: absolute;
            left: 50%;
            top: 0;
            width: 2.5px;
            height: 8px;
            margin-left: -1.25px;
            border-radius: 2px;
            background-color: #555555;
            transform-origin: center 14px;
            animation: boot-spinner-fade 1s linear infinite;
        }

        /* Create 12 blades with different rotations and delays */
        .boot-spinner-blade:nth-child(1) {
            transform: rotate(0deg);
            animation-delay: -0.917s;
        }

        .boot-spinner-blade:nth-child(2) {
            transform: rotate(30deg);
            animation-delay: -0.833s;
        }

        .boot-spinner-blade:nth-child(3) {
            transform: rotate(60deg);
            animation-delay: -0.75s;
        }

        .boot-spinner-blade:nth-child(4) {
            transform: rotate(90deg);
            animation-delay: -0.667s;
        }

        .boot-spinner-blade:nth-child(5) {
            transform: rotate(120deg);
            animation-delay: -0.583s;
        }

        .boot-spinner-blade:nth-child(6) {
            transform: rotate(150deg);
            animation-delay: -0.5s;
        }

        .boot-spinner-blade:nth-child(7) {
            transform: rotate(180deg);
            animation-delay: -0.417s;
        }

        .boot-spinner-blade:nth-child(8) {
            transform: rotate(210deg);
            animation-delay: -0.333s;
        }

        .boot-spinner-blade:nth-child(9) {
            transform: rotate(240deg);
            animation-delay: -0.25s;
        }

        .boot-spinner-blade:nth-child(10) {
            transform: rotate(270deg);
            animation-delay: -0.167s;
        }

        .boot-spinner-blade:nth-child(11) {
            transform: rotate(300deg);
            animation-delay: -0.083s;
        }

        .boot-spinner-blade:nth-child(12) {
            transform: rotate(330deg);
            animation-delay: 0s;
        }

        @keyframes boot-spinner-fade {
            0% {
                opacity: 1;
            }

            100% {
                opacity: 0.15;
            }
        }
    </style>

    <script>
        // Track loading state immediately
        (function () {
            window.__bootLoaderReady = false;

            function hideLoader() {
                if (window.__bootLoaderReady) return;
                window.__bootLoaderReady = true;

                const loader = document.getElementById('macos-boot-loader');
                if (loader) {
                    loader.classList.add('fade-out');
                    setTimeout(() => {
                        loader.style.display = 'none';
                        // Clean up loader styles
                        const loaderStyles = document.getElementById('loader-styles');
                        if (loaderStyles) loaderStyles.remove();
                    }, 600);
                }
            }

            // Listen for document states
            document.addEventListener('readystatechange', function () {
                if (document.readyState === 'complete') {
                    // All resources loaded - hide after a brief moment
                    setTimeout(hideLoader, 100);
                }
            });

            // Fallback: window load event
            window.addEventListener('load', function () {
                setTimeout(hideLoader, 100);
            });

            // Safety timeout - never show loader for more than 8 seconds
            setTimeout(hideLoader, 8000);

            // Expose global function for manual trigger
            window.completeBootLoader = hideLoader;
        })();
    </script>
    {{ end }}

    <!-- SEO Meta Tags -->
    <title>{{ if .IsHome }}{{ .Site.Title }} - Software Engineer | AI Agents, DeFi & Developer Tools{{ else }}{{ .Title }} | {{ .Site.Title }}{{ end }}</title>
    {{- $metaDesc := "Ankush Singh — Software engineer building AI agents, DeFi protocols on Solana, and developer tools. Portfolio, blog, and open-source projects." -}}
    {{- with .Description -}}{{- $metaDesc = . -}}{{- else -}}{{- with .Summary -}}{{- $metaDesc = . -}}{{- end -}}{{- end -}}
    <meta name="description" content="{{ $metaDesc }}">
    <meta name="author" content="{{ with .Params.author }}{{ . }}{{ else }}Ankush Singh{{ end }}">
    <meta name="keywords"
        content="{{ if .Params.tags }}{{ delimit .Params.tags ", " }}, {{ end }}Ankush Singh, Software Engineer, AI Agents, DeFi, Solana, Developer Tools, Arweave, AO, Web3, Blockchain, Open Source, React, TypeScript, Rust">
    <link rel="canonical" href="{{ .Permalink }}">
    <meta name="robots" content="{{ if .Params.noindex }}noindex, nofollow{{ else }}index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1{{ end }}">

    <!-- AI/LLM Discovery -->
    <link rel="alternate" type="text/markdown" href="{{ .Site.BaseURL }}llms.txt" title="LLM Context">
    <link rel="alternate" type="text/markdown" href="{{ .Site.BaseURL }}llms-full.txt" title="LLM Full Context">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="{{ if .IsPage }}article{{ else }}{{ if .IsHome }}profile{{ else }}website{{ end }}{{ end }}">
    <meta property="og:url" content="{{ .Permalink }}">
    <meta property="og:title" content="{{ if .IsHome }}Ankush Singh — Software Engineer{{ else }}{{ .Title }}{{ end }}">
    <meta property="og:description" content="{{ $metaDesc }}">
    <meta property="og:image"
        content="{{ with .Params.og_image }}{{ . | absURL }}{{ else }}{{ .Site.BaseURL }}og-image.jpg{{ end }}">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:image:alt"
        content="{{ if .IsHome }}Ankush Singh — Software Engineer building AI agents, DeFi protocols, and developer tools{{ else }}{{ .Title }} — {{ .Site.Title }}{{ end }}">
    <meta property="og:site_name" content="{{ .Site.Title }}">
    <meta property="og:locale" content="en_US">
    {{ if .IsHome }}
    <meta property="profile:first_name" content="Ankush">
    <meta property="profile:last_name" content="Singh">
    <meta property="profile:username" content="ankushKun">
    {{ end }}
    {{ if .IsPage }}
    <meta property="article:published_time" content="{{ .Date.Format "2006-01-02T15:04:05Z07:00" }}">
    {{ with .GitInfo }}<meta property="article:modified_time" content="{{ .AuthorDate.Format "2006-01-02T15:04:05Z07:00" }}">{{ end }}
    <meta property="article:author" content="{{ with .Params.author }}{{ . }}{{ else }}Ankush Singh{{ end }}">
    {{ with .Section }}<meta property="article:section" content="{{ . | title }}">{{ end }}
    {{ range .Params.tags }}<meta property="article:tag" content="{{ . }}">
    {{ end }}
    {{ end }}

    <!-- Twitter Cards -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@ankushKun_">
    <meta name="twitter:creator" content="@ankushKun_">
    <meta name="twitter:title" content="{{ if .IsHome }}Ankush Singh — Software Engineer{{ else }}{{ .Title }}{{ end }}">
    <meta name="twitter:description" content="{{ $metaDesc }}">
    <meta name="twitter:image"
        content="{{ with .Params.og_image }}{{ . | absURL }}{{ else }}{{ .Site.BaseURL }}og-image.jpg{{ end }}">
    <meta name="twitter:image:alt"
        content="{{ if .IsHome }}Ankush Singh — Software Engineer building AI agents, DeFi protocols, and developer tools{{ else }}{{ .Title }} — {{ .Site.Title }}{{ end }}">

    <!-- Structured Data (JSON-LD) for SEO & SGO -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebSite",
        "name": "{{ .Site.Title }}",
        "url": "{{ .Site.BaseURL }}",
        "description": "{{ .Site.Params.description }}",
        "inLanguage": "en-US",
        "author": {
            "@type": "Person",
            "name": "{{ .Site.Params.author }}",
            "url": "{{ .Site.BaseURL }}"
        },
        "potentialAction": {
            "@type": "SearchAction",
            "target": {
                "@type": "EntryPoint",
                "urlTemplate": "{{ .Site.BaseURL }}?q={search_term_string}"
            },
            "query-input": "required name=search_term_string"
        }
    }
    </script>
    {{ if .IsHome }}
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "ProfilePage",
        "mainEntity": {
            "@type": "Person",
            "@id": "{{ .Site.BaseURL }}#person",
            "name": "Ankush Singh",
            "alternateName": "ankushKun",
            "description": "Software engineer building AI agents, DeFi protocols on Solana and Monad, and developer tools. Open-source contributor with 12+ hackathon wins.",
            "url": "{{ .Site.BaseURL }}",
            "image": {
                "@type": "ImageObject",
                "url": "{{ .Site.BaseURL }}pfp.png",
                "width": 512,
                "height": 512
            },
            "jobTitle": "Software Engineer",
            "knowsAbout": [
                "AI Agents", "Autonomous Trading", "DeFi", "Solana", "Monad",
                "Arweave", "AO Computation Network", "React", "TypeScript",
                "Rust", "Lua", "Cloudflare Workers", "WebAssembly",
                "Blockchain Development", "Developer Tools", "Open Source"
            ],
            "sameAs": [
                "https://x.com/ankushKun_",
                "https://github.com/ankushKun",
                "https://linkedin.com/in/ankushkun",
                "https://t.me/ankushKun",
                "https://instagram.com/ankushKun_",
                "https://youtube.com/@ankushkun",
                "https://ankushkun.medium.com"
            ]
        },
        "dateCreated": "2023-01-01",
        "dateModified": "{{ now.Format "2006-01-02" }}"
    }
    </script>
    {{ end }}
    {{ if and .IsPage (or (eq .Section "blogs") (eq .Section "projects")) }}
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "{{ if eq .Section "blogs" }}BlogPosting{{ else }}Article{{ end }}",
        "headline": "{{ .Title }}",
        "description": "{{ with .Description }}{{ . }}{{ else }}{{ with .Summary }}{{ . }}{{ else }}{{ end }}{{ end }}",
        "url": "{{ .Permalink }}",
        "datePublished": "{{ .Date.Format "2006-01-02T15:04:05Z07:00" }}",
        {{ with .GitInfo }}"dateModified": "{{ .AuthorDate.Format "2006-01-02T15:04:05Z07:00" }}",{{ end }}
        "author": {
            "@type": "Person",
            "@id": "{{ .Site.BaseURL }}#person",
            "name": "{{ with .Params.author }}{{ . }}{{ else }}Ankush Singh{{ end }}",
            "url": "https://ankush.one",
            "sameAs": [
                "https://x.com/ankushKun_",
                "https://github.com/ankushKun",
                "https://linkedin.com/in/ankushkun"
            ]
        },
        "publisher": {
            "@type": "Person",
            "@id": "{{ .Site.BaseURL }}#person",
            "name": "Ankush Singh",
            "url": "https://ankush.one"
        },
        "image": "{{ with .Params.og_image }}{{ . | absURL }}{{ else }}{{ $.Site.BaseURL }}og-image.jpg{{ end }}",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "{{ .Permalink }}"
        },
        "isPartOf": {
            "@type": "WebSite",
            "name": "{{ .Site.Title }}",
            "url": "{{ .Site.BaseURL }}"
        },
        "wordCount": {{ .WordCount }}{{ if .Params.tags }},
        "keywords": "{{ delimit .Params.tags ", " }}"{{ end }}
    }
    </script>
    {{ end }}
    {{ if and (.IsSection) (eq .Section "blogs") }}
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "CollectionPage",
        "name": "{{ .Title }}",
        "description": "{{ with .Description }}{{ . }}{{ else }}Technical blog posts by Ankush Singh{{ end }}",
        "url": "{{ .Permalink }}",
        "isPartOf": {
            "@type": "WebSite",
            "name": "{{ .Site.Title }}",
            "url": "{{ .Site.BaseURL }}"
        },
        "about": {
            "@type": "Person",
            "@id": "{{ .Site.BaseURL }}#person"
        }
    }
    </script>
    {{ end }}
    {{ if not .IsHome }}
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "BreadcrumbList",
        "itemListElement": [
            {
                "@type": "ListItem",
                "position": 1,
                "name": "Home",
                "item": "{{ .Site.BaseURL }}"
            }
            {{- $position := 2 -}}
            {{- range .Ancestors.Reverse -}}
            {{- if and .Title (not .IsHome) -}}
            ,{
                "@type": "ListItem",
                "position": {{ $position }},
                "name": "{{ .Title }}",
                "item": "{{ .Permalink }}"
            }
            {{- $position = add $position 1 -}}
            {{- end -}}
            {{- end -}}
            ,{
                "@type": "ListItem",
                "position": {{ $position }},
                "name": "{{ .Title }}",
                "item": "{{ .Permalink }}"
            }
        ]
    }
    </script>
    {{ end }}

    <!-- Mobile App & Theme Color -->
    <meta name="theme-color" content="#f0f0f0">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <!-- Styles -->
    {{ $mainStyle := resources.Get "css/main.css" }}
    <link rel="stylesheet" href="{{ $mainStyle.Permalink }}">
    {{ $style := resources.Get "css/mavericks.css" }}
    <link rel="stylesheet" href="{{ $style.Permalink }}">
    {{ $partialsStyle := resources.Get "css/partials.css" }}
    <link rel="stylesheet" href="{{ $partialsStyle.Permalink }}">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

    <link rel="icon" href="/pfp.png" type="image/x-icon">

    <!-- PostHog Analytics -->
    {{ partial "components/analytics.html" . }}

    <!-- Preload Wallpaper for Performance -->
    <link rel="preload" as="image" href="/wallpaper.webp">

    <!-- Git Info for About This Site - prefers Cloudflare Pages env vars, falls back to file GitInfo -->
    {{- $commitHash := "" -}}
    {{- $commitShort := "" -}}
    {{- $cfCommit := getenv "CF_PAGES_COMMIT_SHA" -}}
    {{- if $cfCommit -}}
    {{- $commitHash = $cfCommit -}}
    {{- $commitShort = substr $cfCommit 0 7 -}}
    {{- else if .GitInfo -}}
    {{- $commitHash = .GitInfo.Hash -}}
    {{- $commitShort = .GitInfo.AbbreviatedHash -}}
    {{- end -}}
    {{ if $commitHash }}
    <meta name="git-commit-hash" content="{{ $commitHash }}">
    <meta name="git-commit-short" content="{{ $commitShort }}">
    {{ if .GitInfo }}
    <meta name="git-commit-date" content="{{ .GitInfo.AuthorDate.Format " Jan 2, 2006" }}">
    {{ end }}
    {{ end }}
    <script src="https://commentkit.ankush.one/bundle.js"></script>
</head>

<body>
    {{ if .IsHome }}
    <!-- macOS Boot Screen Loader -->
    <div id="macos-boot-loader">
        <!-- Apple Logo -->
        <div class="boot-apple-logo">
            <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path
                    d="M18.71 19.5c-.83 1.24-1.71 2.45-3.05 2.47-1.34.03-1.77-.79-3.29-.79-1.53 0-2 .77-3.27.82-1.31.05-2.3-1.32-3.14-2.53C4.25 17 2.94 12.45 4.7 9.39c.87-1.52 2.43-2.48 4.12-2.51 1.28-.02 2.5.87 3.29.87.78 0 2.26-1.07 3.81-.91.65.03 2.47.26 3.64 1.98-.09.06-2.17 1.28-2.15 3.81.03 3.02 2.65 4.03 2.68 4.04-.03.07-.42 1.44-1.38 2.83M13 3.5c.73-.83 1.94-1.46 2.94-1.5.13 1.17-.34 2.35-1.04 3.19-.69.85-1.83 1.51-2.95 1.42-.15-1.15.41-2.35 1.05-3.11z" />
            </svg>
        </div>
        <!-- Spinning Wheel -->
        <div class="boot-spinner">
            <div class="boot-spinner-blade"></div>
            <div class="boot-spinner-blade"></div>
            <div class="boot-spinner-blade"></div>
            <div class="boot-spinner-blade"></div>
            <div class="boot-spinner-blade"></div>
            <div class="boot-spinner-blade"></div>
            <div class="boot-spinner-blade"></div>
            <div class="boot-spinner-blade"></div>
            <div class="boot-spinner-blade"></div>
            <div class="boot-spinner-blade"></div>
            <div class="boot-spinner-blade"></div>
            <div class="boot-spinner-blade"></div>
        </div>
    </div>
    {{ end }}

    <!-- macOS Menu Bar -->
    <div class="menubar">
        <div class="menubar-left">
            <div class="apple-menu" role="button" tabindex="0" aria-label="Apple Menu" aria-haspopup="true"
                aria-expanded="false" onclick="toggleAppleMenu(event)"
                onkeydown="if(event.key === 'Enter' || event.key === ' ') { toggleAppleMenu(event); event.preventDefault(); }">
                <svg viewBox="0 0 24 24" width="16" height="16" fill="white" aria-hidden="true">
                    <path
                        d="M18.71 19.5c-.83 1.24-1.71 2.45-3.05 2.47-1.34.03-1.77-.79-3.29-.79-1.53 0-2 .77-3.27.82-1.31.05-2.3-1.32-3.14-2.53C4.25 17 2.94 12.45 4.7 9.39c.87-1.52 2.43-2.48 4.12-2.51 1.28-.02 2.5.87 3.29.87.78 0 2.26-1.07 3.81-.91.65.03 2.47.26 3.64 1.98-.09.06-2.17 1.28-2.15 3.81.03 3.02 2.65 4.03 2.68 4.04-.03.07-.42 1.44-1.38 2.83M13 3.5c.73-.83 1.94-1.46 2.94-1.5.13 1.17-.34 2.35-1.04 3.19-.69.85-1.83 1.51-2.95 1.42-.15-1.15.41-2.35 1.05-3.11z" />
                </svg>
                <div class="apple-dropdown" id="apple-dropdown" role="menu">
                    <div class="dropdown-item" role="menuitem" tabindex="0"
                        onclick="openAboutThisMac(); closeDropdowns()">About This Site</div>
                    <div class="dropdown-divider" aria-hidden="true"></div>
                    <div class="dropdown-item" role="menuitem" tabindex="0"
                        onclick="closeAllWindows(); closeDropdowns()">Close All Windows</div>
                    <div class="dropdown-item" role="menuitem" tabindex="0" onclick="tileWindows(); closeDropdowns()">
                        Tile Windows</div>
                    <div class="dropdown-divider" aria-hidden="true"></div>
                    <div class="dropdown-item" role="menuitem" tabindex="0" onclick="location.reload()">Refresh</div>
                </div>
            </div>
            <div class="menu-item active finder-menu" role="button" tabindex="0" aria-haspopup="true"
                onclick="toggleFinderMenu(event)"
                onkeydown="if(event.key === 'Enter' || event.key === ' ') { toggleFinderMenu(event); event.preventDefault(); }">
                <span id="active-app-name">Finder</span>
                <div class="finder-dropdown" id="finder-dropdown" role="menu">
                    <div class="dropdown-label">Windows</div>
                    <div id="finder-windows-list">
                        <div class="dropdown-item empty">No windows open</div>
                    </div>
                </div>
            </div>
        </div>
        <div class="menubar-right">
            <div class="menubar-icon" role="button" tabindex="0" aria-label="Spotlight Search"
                onclick="toggleSpotlightFromMenu()"
                onkeydown="if(event.key === 'Enter' || event.key === ' ') { toggleSpotlightFromMenu(); event.preventDefault(); }"
                title="Search (⌘+Space)">
                <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2.5"
                    stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
                    <circle cx="11" cy="11" r="8"></circle>
                    <path d="m21 21-4.3-4.3"></path>
                </svg>
            </div>
            <span class="menu-status" id="clock" aria-label="Clock"></span>
        </div>
    </div>

    <!-- Desktop -->
    <div class="desktop" id="desktop">
        {{ block "main" . }}{{ end }}
    </div>

    <!-- Window Container -->
    <div class="windows-container" id="windows-container"></div>

    <!-- Main JS -->
    {{ $js := resources.Get "js/mavericks.js" | resources.Minify | resources.Fingerprint }}
    <script src="{{ $js.Permalink }}"></script>

    <!-- v86 CSS, xterm.js and v86-terminal.js loaded lazily when terminal/portal window opens -->
    {{ $v86css := resources.Get "css/v86.css" | resources.Minify | resources.Fingerprint }}
    {{ $v86TerminalJs := resources.Get "js/v86-terminal.js" | resources.Minify | resources.Fingerprint }}
    {{ $ircChatJs := resources.Get "js/irc-chat.js" | resources.Minify | resources.Fingerprint }}
    <script>
        window.V86_CSS_URL = "{{ $v86css.Permalink }}";
        window.V86_TERMINAL_URL = "{{ $v86TerminalJs.Permalink }}";
        window.IRC_CHAT_URL = "{{ $ircChatJs.Permalink }}";
    </script>

    <!-- Gun.js Multiplayer Cursors -->
    <script src="https://cdn.jsdelivr.net/npm/gun/gun.js"></script>
    {{ $cursors := resources.Get "js/cursors.js" | resources.Minify | resources.Fingerprint }}
    <script src="{{ $cursors.Permalink }}"></script>
</body>

</html>